(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97c96efe"],{"04d1":function(t,e,r){var a=r("342f"),o=a.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},1799:function(t,e,r){"use strict";var a=r("7a23"),o={"aria-label":"Page navigation"},c={class:"pagination"};function i(t,e,r,i,n,s){return Object(a["openBlock"])(),Object(a["createBlock"])("nav",o,[Object(a["createVNode"])("ul",c,[Object(a["createVNode"])("li",{class:["page-item",{disabled:!r.page.has_pre}]},[Object(a["createVNode"])("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=Object(a["withModifiers"])((function(t){return s.emitPage(r.page.current_page-1)}),["prevent"]))},"Prev")],2),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.page.total_pages,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:["page-item",{active:t===r.page.current_page}],key:"page"+t},[Object(a["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(a["withModifiers"])((function(e){return s.emitPage(t)}),["prevent"])},Object(a["toDisplayString"])(t),9,["onClick"])],2)})),128)),Object(a["createVNode"])("li",{class:["page-item",{disabled:!r.page.has_next}]},[Object(a["createVNode"])("a",{class:"page-link",href:"#",onClick:e[2]||(e[2]=Object(a["withModifiers"])((function(t){return s.emitPage(r.page.current_page+1)}),["prevent"]))},"Next")],2)])])}var n={props:["page"],methods:{emitPage:function(t){this.$emit("emit-page",t)}}};n.render=i;e["a"]=n},"1dde":function(t,e,r){var a=r("d039"),o=r("b622"),c=r("2d00"),i=o("species");t.exports=function(t){return c>=51||!a((function(){var e=[],r=e.constructor={};return r[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,r){"use strict";var a=r("23e7"),o=r("b727").filter,c=r("1dde"),i=c("filter");a({target:"Array",proto:!0,forced:!i},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(t,e,r){"use strict";var a=r("23e7"),o=r("1c0b"),c=r("7b0b"),i=r("50c4"),n=r("d039"),s=r("addb"),u=r("a640"),d=r("04d1"),f=r("d998"),l=r("2d00"),p=r("512c"),g=[],h=g.sort,b=n((function(){g.sort(void 0)})),m=n((function(){g.sort(null)})),v=u("sort"),O=!n((function(){if(l)return l<70;if(!(d&&d>3)){if(f)return!0;if(p)return p<603;var t,e,r,a,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)g.push({k:e+a,v:r})}for(g.sort((function(t,e){return e.v-t.v})),a=0;a<g.length;a++)e=g[a].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}})),j=b||!m||!v||!O,y=function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:String(e)>String(r)?1:-1}};a({target:"Array",proto:!0,forced:j},{sort:function(t){void 0!==t&&o(t);var e=c(this);if(O)return void 0===t?h.call(e):h.call(e,t);var r,a,n=[],u=i(e.length);for(a=0;a<u;a++)a in e&&n.push(e[a]);n=s(n,y(t)),r=n.length,a=0;while(a<r)e[a]=n[a++];while(a<u)delete e[a++];return e}})},"512c":function(t,e,r){var a=r("342f"),o=a.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),o=r("5899"),c="["+o+"]",i=RegExp("^"+c+c+"*"),n=RegExp(c+c+"*$"),s=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(n,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},8418:function(t,e,r){"use strict";var a=r("c04e"),o=r("9bf2"),c=r("5c6c");t.exports=function(t,e,r){var i=a(e);i in t?o.f(t,i,c(0,r)):t[i]=r}},"99af":function(t,e,r){"use strict";var a=r("23e7"),o=r("d039"),c=r("e8b5"),i=r("861d"),n=r("7b0b"),s=r("50c4"),u=r("8418"),d=r("65f0"),f=r("1dde"),l=r("b622"),p=r("2d00"),g=l("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",m=p>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),v=f("concat"),O=function(t){if(!i(t))return!1;var e=t[g];return void 0!==e?!!e:c(t)},j=!m||!v;a({target:"Array",proto:!0,forced:j},{concat:function(t){var e,r,a,o,c,i=n(this),f=d(i,0),l=0;for(e=-1,a=arguments.length;e<a;e++)if(c=-1===e?i:arguments[e],O(c)){if(o=s(c.length),l+o>h)throw TypeError(b);for(r=0;r<o;r++,l++)r in c&&u(f,l,c[r])}else{if(l>=h)throw TypeError(b);u(f,l++,c)}return f.length=l,f}})},a9e3:function(t,e,r){"use strict";var a=r("83ab"),o=r("da84"),c=r("94ca"),i=r("6eeb"),n=r("5135"),s=r("c6b6"),u=r("7156"),d=r("c04e"),f=r("d039"),l=r("7c73"),p=r("241c").f,g=r("06cf").f,h=r("9bf2").f,b=r("58a8").trim,m="Number",v=o[m],O=v.prototype,j=s(l(O))==m,y=function(t){var e,r,a,o,c,i,n,s,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+u}for(c=u.slice(2),i=c.length,n=0;n<i;n++)if(s=c.charCodeAt(n),s<48||s>o)return NaN;return parseInt(c,a)}return+u};if(c(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var N,k=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof k&&(j?f((function(){O.valueOf.call(r)})):s(r)!=m)?u(new v(y(e)),r,k):y(e)},x=a?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;x.length>w;w++)n(v,N=x[w])&&!n(k,N)&&h(k,N,g(v,N));k.prototype=O,O.constructor=k,i(o,m,k)}},addb:function(t,e){var r=Math.floor,a=function(t,e){var i=t.length,n=r(i/2);return i<8?o(t,e):c(a(t.slice(0,n),e),a(t.slice(n),e),e)},o=function(t,e){var r,a,o=t.length,c=1;while(c<o){a=c,r=t[c];while(a&&e(t[a-1],r)>0)t[a]=t[--a];a!==c++&&(t[a]=r)}return t},c=function(t,e,r){var a=t.length,o=e.length,c=0,i=0,n=[];while(c<a||i<o)c<a&&i<o?n.push(r(t[c],e[i])<=0?t[c++]:e[i++]):n.push(c<a?t[c++]:e[i++]);return n};t.exports=a},d81d:function(t,e,r){"use strict";var a=r("23e7"),o=r("b727").map,c=r("1dde"),i=c("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},d998:function(t,e,r){var a=r("342f");t.exports=/MSIE|Trident/.test(a)},ed84:function(t,e,r){"use strict";r.r(e);var a=r("7a23"),o=Object(a["createVNode"])("div",{class:"d-center bg-center bg-cover py-3 py-md-7 mt-4 mt-md-6",style:{backgroundImage:"url(https://storage.googleapis.com/vue-course-api.appspot.com/yiren/1627570231212.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=PpbArNs%2FBqoc3WTlfbDcs8SerAah3XqO1ak4TZC%2B2MfK8WFXOORSG4WrvUNzrjNu%2FQcKkb%2BUQSUMaIzlambwa0jR%2F5nyd%2BfN1TwW8lcajV%2Bh0OLqUfNzEEizVn%2FHclo35pbzfgxtfi5bMsDkBUdfm3TEEZr4W4Yz1AuXzBsPAP8OkpKRhG6Ywo35eSnWmXFhj9pFSA%2Bh720iwxW4DAGIGAu%2FHka%2Fof4bkJeTdo3qpx7OptgvSN6YDnZBaSQuoYb53ReAe6PT6cdk8BFyoIa8xqlNfb0ZaGOzfkS%2BAqCOQxooWDG13KcJ58wGc%2FLtqNT3izHG8%2FClL%2ByhUK1hAfkYVA%3D%3D)"},"data-aos":"fade-up"},[Object(a["createVNode"])("div",{class:"container mt-6 my-md-5"},[Object(a["createVNode"])("p",{class:"fontSizeM fontSize-md-XL text-white text-end"},[Object(a["createTextVNode"])(" 友善環境的美食 "),Object(a["createVNode"])("br"),Object(a["createTextVNode"])("大自然的禮物 ")])])],-1),c={class:"main container mt-3 mt-md-4 px-md-7"},i={class:"row mb-6"},n={class:"card-img-top position-relative mb-2 mb-md-3"},s={key:0,class:"tag"},u={key:1,class:"tag"},d={class:"d-md-flex justify-content-md-between align-items-md-center mb-2 mb-md-3"},f={class:"fontSizeBase fontSize-md-M mb-1 mb-md-0"},l={key:0,class:"fontSizeXS text-decoration-line-through text-dark ms-1"},p={class:"d-flex justify-content-between"},g=Object(a["createVNode"])("span",{class:"material-icons"},"favorite_border",-1),h=Object(a["createVNode"])("span",{class:"material-icons"}," add_shopping_cart ",-1),b=Object(a["createVNode"])("p",{class:"d-none d-lg-block fontSize-md-M ms-2 mb-0"},"加入購物車",-1),m={class:"d-flex justify-content-center"},v=Object(a["createVNode"])("div",{class:"loadingio-spinner-dual-ball-haac1tizt7t"},[Object(a["createVNode"])("div",{class:"ldio-u3364un719"},[Object(a["createVNode"])("div"),Object(a["createVNode"])("div"),Object(a["createVNode"])("div")])],-1);function O(t,e,r,O,j,y){var N=Object(a["resolveComponent"])("SubNav"),k=Object(a["resolveComponent"])("router-link"),x=Object(a["resolveComponent"])("Pagination"),w=Object(a["resolveComponent"])("Loading");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[o,Object(a["createVNode"])(N,{"category-list":j.categoryList,currentPath:j.currentPath,onEmitCategory:y.filterProduct},null,8,["category-list","currentPath","onEmitCategory"]),Object(a["createVNode"])("div",c,[Object(a["createVNode"])("div",i,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(j.filterProducts,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:t.id,class:"col-6 col-lg-4 mb-6 mt-1 mt-md-3"},[Object(a["createVNode"])(k,{to:{path:"/product/".concat(t.id),query:{category:t.category,title:t.title}},class:"productCard"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",n,[t.is_season?(Object(a["openBlock"])(),Object(a["createBlock"])("span",s,"限定")):Object(a["createCommentVNode"])("",!0),t.is_sell?(Object(a["openBlock"])(),Object(a["createBlock"])("span",u,"特價")):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])("img",{src:t.imagesUrl[0].imgUrl,alt:t.title,class:"img-fluid"},null,8,["src","alt"])]),Object(a["createVNode"])("div",d,[Object(a["createVNode"])("h2",f,Object(a["toDisplayString"])(t.title),1),Object(a["createVNode"])("p",{class:["fontSize-md-M fw-bold mb-0",{"text-primary":t.is_sell}]},[Object(a["createTextVNode"])(" NT "+Object(a["toDisplayString"])(t.is_sell?t.price:t.origin_price)+" ",1),t.is_sell?(Object(a["openBlock"])(),Object(a["createBlock"])("span",l," NT "+Object(a["toDisplayString"])(t.origin_price),1)):Object(a["createCommentVNode"])("",!0)],2)]),Object(a["createVNode"])("div",p,[Object(a["createVNode"])("button",{type:"button",class:"favoriteBtn d-center btn btn-outline-secondary me-3",onClick:Object(a["withModifiers"])((function(e){return y.addToFavorite(t)}),["prevent"])},[g],8,["onClick"]),Object(a["createVNode"])("button",{type:"button",class:"addCartBtn btn btn-secondary d-center",onClick:Object(a["withModifiers"])((function(e){return y.addToCart(t.id)}),["prevent"])},[h,b],8,["onClick"])])]})),_:2},1032,["to"])])})),128))]),Object(a["createVNode"])("div",m,[Object(a["createVNode"])(x,{page:j.pagination,onEmitPage:y.filterPages},null,8,["page","onEmitPage"])])]),Object(a["createVNode"])(w,{active:j.isLoading},{default:Object(a["withCtx"])((function(){return[v]})),_:1},8,["active"])],64)}var j=r("2909"),y=(r("b0c0"),r("99af"),r("4e82"),r("d81d"),r("4de4"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("159b"),r("f8b8"));r("a9e3");function N(t,e){var r=9,a=[],o={total_pages:Math.ceil(e.length/r),current_page:Number(t),has_pre:!1,has_next:!1,maxData:t*r,minData:(t-1)*r+1};return e.forEach((function(t,e){e+1>=o.minData&&e+1<=o.maxData&&a.push(t)})),t>1&&(o.has_pre=!0),t<o.total_pages&&(o.has_next=!0),{pages:o,filterData:a}}var k=r("53d1"),x=r("1799"),w={data:function(){return{currentPath:this.$route.name,products:"",categoryList:"",isActive:"全部商品",scroll:"",favorite:[],filterProducts:"",pagination:"",path:{category:"",page:""},tempProduct:"",isLoading:!1}},components:{SubNav:k["a"],Pagination:x["a"]},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/products/all");this.$http.get(e).then((function(e){e.data.success?(t.products=e.data.products.sort((function(t,e){return t.categorySort-e.categorySort})),t.getCategoryList(),t.filterPages(t.path.page,t.path.category),t.isLoading=!1):t.$swal({text:e.data.message,icon:"error",confirmButtonColor:"#ffbc1f"})})).catch((function(){t.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},addToCart:function(t){var e=this;this.isLoading=!0;var r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/cart"),a={data:{product_id:t,qty:1}};this.$http.post(r,a).then((function(t){t.data.success?(e.isLoading=!1,y["a"].emit("update-cart"),e.$swal({text:t.data.message,icon:"success",confirmButtonColor:"#ffbc1f"})):(e.isLoading=!1,e.$swal({text:t.data.message,icon:"error",confirmButtonColor:"#ffbc1f"}))})).catch((function(){e.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},addToFavorite:function(t){var e=localStorage.getItem("favorite");if(e){this.favorite=JSON.parse(e);var r=this.favorite.map((function(t){return t.id})).indexOf(t.id);r<0?(this.favorite.push(t),this.$swal({text:"成功收藏",icon:"success",confirmButtonColor:"#ffbc1f"})):this.$swal({text:"已經收藏過囉",icon:"warning",confirmButtonColor:"#ffbc1f"})}else this.favorite.push(t),this.$swal({text:"成功收藏",icon:"success",confirmButtonColor:"#ffbc1f"});this.favorite=JSON.stringify(this.favorite),localStorage.setItem("favorite",this.favorite),y["a"].emit("update-favorite")},filterProduct:function(t){var e=this;this.isLoading=!0,this.path.category=t,this.isActive=t,this.filterPages(),setTimeout((function(){e.isLoading=!1,e.$router.push({path:"/products",query:{category:e.path.category,page:1}})}),500)},filterPages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.filterCategory(this.path.category);var e=N(t,this.tempProduct);this.pagination=e.pages,this.filterProducts=e.filterData,this.$router.push({path:"/products",query:{category:this.path.category,page:t}})},filterCategory:function(t){switch(t){case"全部商品":this.tempProduct=this.products;break;case"季節限定":this.tempProduct=this.products.filter((function(t){return t.is_season}));break;default:this.tempProduct=this.products.filter((function(e){return e.category===t}));break}},getCategoryList:function(){var t=new Set;this.products.forEach((function(e){return t.has(e.category)?"":t.add(e.category)})),this.categoryList=Object(j["a"])(t)},getPath:function(){this.path.category=this.$route.query.category?this.$route.query.category:"全部商品",this.path.page=this.$route.query.page?this.$route.query.page:1}},created:function(){this.isLoading=!0,this.getPath(),this.getProducts()}};w.render=O;e["default"]=w},f8b8:function(t,e,r){"use strict";var a=function(t){return{all:t=t||new Map,on:function(e,r){var a=t.get(e);a&&a.push(r)||t.set(e,[r])},off:function(e,r){var a=t.get(e);a&&a.splice(a.indexOf(r)>>>0,1)},emit:function(e,r){(t.get(e)||[]).slice().map((function(t){t(r)})),(t.get("*")||[]).slice().map((function(t){t(e,r)}))}}},o=a();e["a"]=o}}]);
//# sourceMappingURL=chunk-97c96efe.e8bcf1d5.js.map