(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aecdd"],{"0c2f":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var a=c("7a23"),o={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"mb-3"},r={class:"breadcrumb"},l=Object(a["createVNode"])("li",{class:"breadcrumb-item"},"商品",-1),d={class:"breadcrumb-item"},n=Object(a["createTextVNode"])("全部商品"),s=Object(a["createVNode"])("li",{class:"breadcrumb-item active"},"新增商品",-1),i={class:"d-flex justify-content-end mb-3"},u=Object(a["createVNode"])("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[Object(a["createVNode"])("li",{class:"nav-item",role:"presentation"},[Object(a["createVNode"])("button",{class:"nav-link active",id:"info-tab",type:"button",role:"tab","data-bs-toggle":"tab","data-bs-target":"#info","aria-controls":"info","aria-selected":"true"}," 商品資訊 ")]),Object(a["createVNode"])("li",{class:"nav-item",role:"presentation"},[Object(a["createVNode"])("button",{class:"nav-link",id:"content-tab",type:"button",role:"tab","data-bs-toggle":"tab","data-bs-target":"#content","aria-controls":"content","aria-selected":"false"}," 商品內容 ")]),Object(a["createVNode"])("li",{class:"nav-item",role:"presentation"},[Object(a["createVNode"])("button",{class:"nav-link",id:"images-tab",type:"button",role:"tab","data-bs-toggle":"tab","data-bs-target":"#images","aria-controls":"images","aria-selected":"false"}," 商品圖片 ")])],-1),b={class:"tab-content border-bottom p-4",id:"myTabContent"},m={class:"tab-pane fade show active",id:"info",role:"tabpanel","aria-labelledby":"info-tab"},p={class:"row"},V={class:"col-md-6"},O={class:"mb-3"},j=Object(a["createVNode"])("label",{for:"productTitle",class:"form-label"},[Object(a["createTextVNode"])("商品名稱"),Object(a["createVNode"])("sup",null,"*")],-1),f={class:"mb-3"},N=Object(a["createVNode"])("label",{for:"productDescription",class:"form-label"},[Object(a["createTextVNode"])("商品描述"),Object(a["createVNode"])("sup",null,"*")],-1),v={class:"col-md-6"},h={class:"row"},g={class:"col-md-6 mb-3"},w=Object(a["createVNode"])("label",{for:"productOriPrice",class:"form-label"},[Object(a["createTextVNode"])("原價"),Object(a["createVNode"])("sup",null,"*")],-1),x={class:"col-md-6 mb-3"},P=Object(a["createVNode"])("label",{for:"productPrice",class:"form-label"},[Object(a["createTextVNode"])("售價"),Object(a["createVNode"])("sup",null,"*")],-1),y={class:"col-md-6 mb-3"},C=Object(a["createVNode"])("label",{for:"productUnit",class:"form-label"},[Object(a["createTextVNode"])("單位"),Object(a["createVNode"])("sup",null,"*")],-1),k={class:"col-md-6 mb-3"},I={class:"d-flex mt-5"},T={class:"form-check mb-3 me-4"},_=Object(a["createVNode"])("label",{class:"form-check-label",for:"seasonProduct"}," 季節限定 ",-1),U={class:"form-check mb-3"},S=Object(a["createVNode"])("label",{class:"form-check-label",for:"sellProduct"}," 限時特惠 ",-1),E={class:"tab-pane fade",id:"content",role:"tabpanel","aria-labelledby":"profile-tab"},q={class:"row"},B={class:"col-md-6"},M={class:"mb-3"},$=Object(a["createVNode"])("label",{for:"productMainContent",class:"form-label"},[Object(a["createTextVNode"])(" 主要內容"),Object(a["createVNode"])("sup",null,"*")],-1),D={class:"mb-3"},L=Object(a["createVNode"])("label",{for:"productSubContent",class:"form-label"},[Object(a["createTextVNode"])(" 說明內容"),Object(a["createVNode"])("sup",null,"*")],-1),A={class:"mb-3"},F=Object(a["createVNode"])("label",{for:"productExplanation ",class:"form-label"},[Object(a["createTextVNode"])(" 補充內容"),Object(a["createVNode"])("sup",null,"*")],-1),J={class:"col-md-6"},z={class:"mb-3"},G=Object(a["createVNode"])("label",{for:"productSpec",class:"form-label"},[Object(a["createTextVNode"])(" 商品規格"),Object(a["createVNode"])("sup",null,"*")],-1),H={class:"mb-3"},K=Object(a["createVNode"])("label",{for:"productPrecautions",class:"form-label"},"注意事項",-1),Q={class:"tab-pane fade",id:"images",role:"tabpanel","aria-labelledby":"images-tab"},R={class:"row"},W=Object(a["createVNode"])("div",{class:"loadingio-spinner-dual-ball-haac1tizt7t"},[Object(a["createVNode"])("div",{class:"ldio-u3364un719"},[Object(a["createVNode"])("div"),Object(a["createVNode"])("div"),Object(a["createVNode"])("div")])],-1);function X(e,t,c,X,Y,Z){var ee=Object(a["resolveComponent"])("router-link"),te=Object(a["resolveComponent"])("Field"),ce=Object(a["resolveComponent"])("error-message"),ae=Object(a["resolveComponent"])("CategorySelect"),oe=Object(a["resolveComponent"])("IsEnabledSelect"),re=Object(a["resolveComponent"])("Form"),le=Object(a["resolveComponent"])("ImagesInput"),de=Object(a["resolveComponent"])("Loading");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("nav",o,[Object(a["createVNode"])("ol",r,[l,Object(a["createVNode"])("li",d,[Object(a["createVNode"])(ee,{to:"/admin/products"},{default:Object(a["withCtx"])((function(){return[n]})),_:1})]),s])]),Object(a["createVNode"])("div",i,[Object(a["createVNode"])("button",{type:"button",class:"btn btn-primary btn-sm me-3",onClick:t[1]||(t[1]=function(){return Z.returnToProducts&&Z.returnToProducts.apply(Z,arguments)})}," 取消 "),Object(a["createVNode"])("button",{class:"btn btn-primary btn-sm",onClick:t[2]||(t[2]=function(){return Z.addProduct&&Z.addProduct.apply(Z,arguments)})},"新增")]),u,Object(a["createVNode"])("div",b,[Object(a["createVNode"])("div",m,[Object(a["createVNode"])(re,{onSubmit:Z.checkBasicInfo},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createVNode"])("div",p,[Object(a["createVNode"])("div",V,[Object(a["createVNode"])("div",O,[j,Object(a["createVNode"])(te,{type:"text",class:["form-control",{"is-invalid":c["商品名稱"]}],id:"productTitle",placeholder:"請輸入商品標題",modelValue:Y.newProduct.title,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Y.newProduct.title=e}),name:"商品名稱",rules:"required"},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"商品名稱",class:"invalid-feedback"})]),Object(a["createVNode"])("div",f,[N,Object(a["createVNode"])(te,{type:"text",class:["form-control",{"is-invalid":c["商品描述"]}],id:"productDescription",placeholder:"請輸入商品描述",modelValue:Y.newProduct.description,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Y.newProduct.description=e}),name:"商品描述",rules:"required",as:"textarea",style:{height:"210px"}},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"商品描述",class:"invalid-feedback"})])]),Object(a["createVNode"])("div",v,[Object(a["createVNode"])("div",h,[Object(a["createVNode"])(ae,{onEmitCategory:Z.getCategory,add:Y.isAdd},null,8,["onEmitCategory","add"]),Object(a["createVNode"])("div",g,[w,Object(a["createVNode"])(te,{type:"number",class:["form-control",{"is-invalid":c["商品原價"]}],id:"productOriPrice",placeholder:"請輸入商品原價",modelValue:Y.newProduct.origin_price,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Y.newProduct.origin_price=e}),modelModifiers:{number:!0},name:"商品原價",rules:"min_value:1|required",min:"1"},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"商品原價",class:"invalid-feedback"})]),Object(a["createVNode"])("div",x,[P,Object(a["createVNode"])(te,{type:"number",class:["form-control",{"is-invalid":c["商品售價"]}],id:"productPrice",placeholder:"請輸入商品售價",modelValue:Y.newProduct.price,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Y.newProduct.price=e}),modelModifiers:{number:!0},name:"商品售價",rules:"min_value:1|required",min:"1"},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"商品售價",class:"invalid-feedback"})]),Object(a["createVNode"])("div",y,[C,Object(a["createVNode"])(te,{type:"text",class:["form-control",{"is-invalid":c["商品單位"]}],id:"productUnit",placeholder:"請輸入商品單位",modelValue:Y.newProduct.unit,"onUpdate:modelValue":t[7]||(t[7]=function(e){return Y.newProduct.unit=e}),name:"商品單位",rules:"required"},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"商品單位",class:"invalid-feedback"})]),Object(a["createVNode"])("div",k,[Object(a["createVNode"])("div",I,[Object(a["createVNode"])("div",T,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{class:"form-check-input me-2",type:"checkbox",value:"",id:"seasonProduct","onUpdate:modelValue":t[8]||(t[8]=function(e){return Y.newProduct.is_season=e})},null,512),[[a["vModelCheckbox"],Y.newProduct.is_season]]),_]),Object(a["createVNode"])("div",U,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{class:"form-check-input me-2",type:"checkbox",value:"",id:"sellProduct","onUpdate:modelValue":t[9]||(t[9]=function(e){return Y.newProduct.is_sell=e})},null,512),[[a["vModelCheckbox"],Y.newProduct.is_sell]]),S])])]),Object(a["createVNode"])(oe,{onEmitIsEnabled:Z.getIsEnabled},null,8,["onEmitIsEnabled"])])])])]})),_:1},8,["onSubmit"])]),Object(a["createVNode"])("div",E,[Object(a["createVNode"])(re,{onSubmit:Z.checkBasicInfo},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createVNode"])("div",q,[Object(a["createVNode"])("div",B,[Object(a["createVNode"])("div",M,[$,Object(a["createVNode"])(te,{type:"text",class:["form-control",{"is-invalid":c["主要內容"]}],id:"productMainContent",placeholder:"請輸入主要內容",modelValue:Y.newProduct.main_content,"onUpdate:modelValue":t[10]||(t[10]=function(e){return Y.newProduct.main_content=e}),name:"主要內容",rules:"required",as:"textarea",style:{height:"160px"}},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"主要內容",class:"invalid-feedback"})]),Object(a["createVNode"])("div",D,[L,Object(a["createVNode"])(te,{type:"text",class:["form-control",{"is-invalid":c["說明內容"]}],id:"productSubContent",placeholder:"請輸入說明內容",modelValue:Y.newProduct.sub_content,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Y.newProduct.sub_content=e}),name:"說明內容",rules:"required",as:"textarea",style:{height:"160px"}},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"說明內容",class:"invalid-feedback"})]),Object(a["createVNode"])("div",A,[F,Object(a["withDirectives"])(Object(a["createVNode"])("textarea",{type:"text",class:"form-control",id:"productExplanation ",placeholder:"請輸入補充內容","onUpdate:modelValue":t[12]||(t[12]=function(e){return Y.newProduct.explanation=e}),name:"補充內容",style:{height:"160px"}},"\n              ",512),[[a["vModelText"],Y.newProduct.explanation]])])]),Object(a["createVNode"])("div",J,[Object(a["createVNode"])("div",z,[G,Object(a["createVNode"])(te,{type:"text",class:["form-control",{"is-invalid":c["商品規格"]}],id:"productSpec",placeholder:"請輸入商品規格",modelValue:Y.newProduct.spec,"onUpdate:modelValue":t[13]||(t[13]=function(e){return Y.newProduct.spec=e}),name:"商品規格",rules:"required",as:"textarea",style:{height:"160px"}},null,8,["modelValue","class"]),Object(a["createVNode"])(ce,{name:"商品規格",class:"invalid-feedback"})]),Object(a["createVNode"])("div",H,[K,Object(a["withDirectives"])(Object(a["createVNode"])("textarea",{"onUpdate:modelValue":t[14]||(t[14]=function(e){return Y.newProduct.precautions=e}),class:"form-control",id:"productPrecautions",style:{height:"160px"},placeholder:"請輸入注意事項"},"\n              ",512),[[a["vModelText"],Y.newProduct.precautions]])])])])]})),_:1},8,["onSubmit"])]),Object(a["createVNode"])("div",Q,[Object(a["createVNode"])("div",R,[Object(a["createVNode"])(le,{onEmitImages:Z.getImages,add:Y.isAdd},null,8,["onEmitImages","add"])])])]),Object(a["createVNode"])(de,{active:Y.isLoading},{default:Object(a["withCtx"])((function(){return[W]})),_:1},8,["active"])],64)}c("99af"),c("4e82");var Y=c("df18"),Z=c("0ef8"),ee=c("5f50"),te={data:function(){return{newProduct:{},isAdd:!0,isLoading:!1}},components:{CategorySelect:Y["a"],IsEnabledSelect:Z["a"],ImagesInput:ee["a"]},methods:{returnToProducts:function(){this.newProduct={},this.$router.push("/admin/products")},addProduct:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/admin/product");this.$http.post(t,{data:this.newProduct}).then((function(t){t.data.success?(e.isLoading=!1,e.$swal({text:t.data.message,icon:"success",confirmButtonColor:"#ffbc1f"}),e.$router.push("/admin/products")):(e.$swal({text:t.data.message,icon:"error",confirmButtonColor:"#ffbc1f"}),e.isLoading=!1)})).catch((function(){e.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},getCategory:function(e){this.newProduct.category=document.querySelector("#mainCategory").value,this.newProduct.sub_category=document.querySelector("#subCategory").value,this.newProduct.categorySort=e},getIsEnabled:function(e,t){this.newProduct.is_enabled=e,this.newProduct.sell_time=t},getImages:function(e){this.newProduct.imagesUrl=e,this.newProduct.imagesUrl.sort((function(e,t){return e.imgId-t.imgId}))},checkBasicInfo:function(){this.$swal({text:"儲存成功",icon:"success",confirmButtonColor:"#ffbc1f"})}}};te.render=X;t["default"]=te}}]);
//# sourceMappingURL=chunk-2d0aecdd.4fa18e62.js.map