(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2117789e"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1799:function(e,t,c){"use strict";var r=c("7a23"),a={"aria-label":"Page navigation"},o={class:"pagination"};function n(e,t,c,n,i,d){return Object(r["openBlock"])(),Object(r["createBlock"])("nav",a,[Object(r["createVNode"])("ul",o,[Object(r["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_pre}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return d.emitPage(c.page.current_page-1)}),["prevent"]))},"Prev")],2),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(c.page.total_pages,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:["page-item",{active:e===c.page.current_page}],key:"page"+e},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(r["withModifiers"])((function(t){return d.emitPage(e)}),["prevent"])},Object(r["toDisplayString"])(e),9,["onClick"])],2)})),128)),Object(r["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_next}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=Object(r["withModifiers"])((function(e){return d.emitPage(c.page.current_page+1)}),["prevent"]))},"Next")],2)])])}var i={props:["page"],methods:{emitPage:function(e){this.$emit("emit-page",e)}}};i.render=n;t["a"]=i},"1dde":function(e,t,c){var r=c("d039"),a=c("b622"),o=c("2d00"),n=a("species");e.exports=function(e){return o>=51||!r((function(){var t=[],c=t.constructor={};return c[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"466d":function(e,t,c){"use strict";var r=c("d784"),a=c("825a"),o=c("50c4"),n=c("1d80"),i=c("8aa5"),d=c("14c3");r("match",1,(function(e,t,c){return[function(t){var c=n(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,c):new RegExp(t)[e](String(c))},function(e){var r=c(t,e,this);if(r.done)return r.value;var n=a(e),l=String(this);if(!n.global)return d(n,l);var s=n.unicode;n.lastIndex=0;var b,u=[],O=0;while(null!==(b=d(n,l))){var j=String(b[0]);u[O]=j,""===j&&(n.lastIndex=i(l,o(n.lastIndex),s)),O++}return 0===O?null:u}]}))},"4de4":function(e,t,c){"use strict";var r=c("23e7"),a=c("b727").filter,o=c("1dde"),n=o("filter");r({target:"Array",proto:!0,forced:!n},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},8418:function(e,t,c){"use strict";var r=c("c04e"),a=c("9bf2"),o=c("5c6c");e.exports=function(e,t,c){var n=r(t);n in e?a.f(e,n,o(0,c)):e[n]=c}},"841c":function(e,t,c){"use strict";var r=c("d784"),a=c("825a"),o=c("1d80"),n=c("129f"),i=c("14c3");r("search",1,(function(e,t,c){return[function(t){var c=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,c):new RegExp(t)[e](String(c))},function(e){var r=c(t,e,this);if(r.done)return r.value;var o=a(e),d=String(this),l=o.lastIndex;n(l,0)||(o.lastIndex=0);var s=i(o,d);return n(o.lastIndex,l)||(o.lastIndex=l),null===s?-1:s.index}]}))},"99af":function(e,t,c){"use strict";var r=c("23e7"),a=c("d039"),o=c("e8b5"),n=c("861d"),i=c("7b0b"),d=c("50c4"),l=c("8418"),s=c("65f0"),b=c("1dde"),u=c("b622"),O=c("2d00"),j=u("isConcatSpreadable"),p=9007199254740991,f="Maximum allowed index exceeded",g=O>=51||!a((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),h=b("concat"),N=function(e){if(!n(e))return!1;var t=e[j];return void 0!==t?!!t:o(e)},v=!g||!h;r({target:"Array",proto:!0,forced:v},{concat:function(e){var t,c,r,a,o,n=i(this),b=s(n,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?n:arguments[t],N(o)){if(a=d(o.length),u+a>p)throw TypeError(f);for(c=0;c<a;c++,u++)c in o&&l(b,u,o[c])}else{if(u>=p)throw TypeError(f);l(b,u++,o)}return b.length=u,b}})},b5df:function(e,t,c){"use strict";c.r(t);c("ac1f"),c("841c"),c("b64b");var r=c("7a23"),a={class:"main container"},o=Object(r["createVNode"])("h2",{class:"fontSizeM fontSize-md-L text-center mb-5"},"─ 全部訂單 ─",-1),n={key:0,class:"d-flex flex-column align-items-center"},i=Object(r["createVNode"])("p",{class:"fontSizeM text-center mb-5"},[Object(r["createTextVNode"])(" 你還沒有買任何東西?"),Object(r["createVNode"])("br"),Object(r["createTextVNode"])("快點去逛逛吧 ")],-1),d=Object(r["createTextVNode"])(" 繼續購物 "),l={class:"row justify-content-end mb-4"},s={class:"col-md-3"},b={class:"input-group"},u=Object(r["createVNode"])("span",{class:"input-group-text material-icons bg-transparent me-3"},"search",-1),O={class:"table align-middle d-none d-md-table mb-7"},j=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",{class:"text-center"},[Object(r["createVNode"])("th",{scope:"col"},"#"),Object(r["createVNode"])("th",{scope:"col"},"訂單編號"),Object(r["createVNode"])("th",{scope:"col"},"訂單日期"),Object(r["createVNode"])("th",{scope:"col"},"總金額"),Object(r["createVNode"])("th",{scope:"col"},"付款狀態"),Object(r["createVNode"])("th",{scope:"col"},"訂單狀態"),Object(r["createVNode"])("th",{scope:"col"},"出貨日期"),Object(r["createVNode"])("th",{scope:"col"},"查看訂單")])],-1),p={scope:"row"},f=Object(r["createTextVNode"])(" description "),g={class:"d-md-none list-unstyled mb-6"},h={class:"row align-items-center"},N={class:"col-8"},v={class:"card-body"},V={class:"list-unstyled"},m={class:"mb-2"},x={class:"card-text"},k={class:"ms-1"},y={class:"mb-2"},S={class:"card-text"},B=Object(r["createTextVNode"])(" 訂單日期: "),w={class:"ms-1"},_={class:"mb-2"},C={class:"card-text"},D=Object(r["createTextVNode"])(" 商品數量: "),L={class:"ms-1"},T={class:"mb-2"},P={class:"card-text"},I=Object(r["createTextVNode"])(" 商品金額: "),M={class:"ms-1"},$={class:"col-4"},E=Object(r["createTextVNode"])(" 查看訂單 "),F={key:0,class:"d-center"},z=Object(r["createVNode"])("div",{class:"loadingio-spinner-dual-ball-haac1tizt7t"},[Object(r["createVNode"])("div",{class:"ldio-u3364un719"},[Object(r["createVNode"])("div"),Object(r["createVNode"])("div"),Object(r["createVNode"])("div")])],-1);function J(e,t,c,J,A,R){var U=Object(r["resolveComponent"])("router-link"),q=Object(r["resolveComponent"])("Pagination"),G=Object(r["resolveComponent"])("Loading");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("div",a,[o,!A.localOrder||A.localOrder.length<1?(Object(r["openBlock"])(),Object(r["createBlock"])("div",n,[i,Object(r["createVNode"])(U,{to:"/products",role:"button",class:"btn btn-primary me-3"},{default:Object(r["withCtx"])((function(){return[d]})),_:1})])):(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:1},[Object(r["createVNode"])("div",l,[Object(r["createVNode"])("div",s,[Object(r["createVNode"])("div",b,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入訂單編號","aria-label":"search","aria-describedby":"searchBtn","onUpdate:modelValue":t[1]||(t[1]=function(e){return A.search=e})},null,512),[[r["vModelText"],A.search,void 0,{trim:!0}]]),u])])]),Object(r["createVNode"])("table",O,[j,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(R.filterOrder,(function(t,c){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t.id,class:"text-center"},[Object(r["createVNode"])("th",p,Object(r["toDisplayString"])(c+1),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.create_at),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.$date.toDate(t.create_at)),1),Object(r["createVNode"])("td",null,"NT "+Object(r["toDisplayString"])(e.$toCurrency(t.total)),1),Object(r["createVNode"])("td",{class:{"text-secondary":!t.is_paid}},Object(r["toDisplayString"])(t.is_paid?"已付款":"未付款"),3),Object(r["createVNode"])("td",{class:{"text-secondary":"已出貨"===t.orderStatus}},Object(r["toDisplayString"])(t.orderStatus?t.orderStatus:"確認中"),3),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.deliveryDate?t.deliveryDate:"-"),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(U,{to:"/order/".concat(t.id),class:"material-icons btn"},{default:Object(r["withCtx"])((function(){return[f]})),_:2},1032,["to"])])])})),128))])]),Object(r["createVNode"])("ul",g,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(R.filterOrder,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:t.id,class:"card mb-3"},[Object(r["createVNode"])("div",h,[Object(r["createVNode"])("div",N,[Object(r["createVNode"])("div",v,[Object(r["createVNode"])("ul",V,[Object(r["createVNode"])("li",m,[Object(r["createVNode"])("p",x,[Object(r["createVNode"])("span",k,"#"+Object(r["toDisplayString"])(t.create_at),1)])]),Object(r["createVNode"])("li",y,[Object(r["createVNode"])("p",S,[B,Object(r["createVNode"])("span",w,Object(r["toDisplayString"])(e.$date.toDate(t.create_at)),1)])]),Object(r["createVNode"])("li",_,[Object(r["createVNode"])("p",C,[D,Object(r["createVNode"])("span",L,Object(r["toDisplayString"])(Object.keys(t.products).length),1)])]),Object(r["createVNode"])("li",T,[Object(r["createVNode"])("p",P,[I,Object(r["createVNode"])("span",M,"NT "+Object(r["toDisplayString"])(e.$toCurrency(Math.round(t.total))),1)])])])])]),Object(r["createVNode"])("div",$,[Object(r["createVNode"])(U,{to:"/order/".concat(t.id),class:"btn btn-sm btn-primary"},{default:Object(r["withCtx"])((function(){return[E]})),_:2},1032,["to"])])])])})),128))]),A.pagination.total_pages>1?(Object(r["openBlock"])(),Object(r["createBlock"])("div",F,[Object(r["createVNode"])(q,{page:A.pagination,onEmitPage:R.getOrders},null,8,["page","onEmitPage"])])):Object(r["createCommentVNode"])("",!0)],64))]),Object(r["createVNode"])(G,{active:A.isLoading},{default:Object(r["withCtx"])((function(){return[z]})),_:1},8,["active"])],64)}c("4de4"),c("466d"),c("d3b7"),c("25f0"),c("99af"),c("159b");var A=c("1799"),R={data:function(){return{orders:"",localOrder:"",pagination:"",search:"",isLoading:!1}},components:{Pagination:A["a"]},computed:{filterOrder:function(){var e=this;return this.localOrder?this.localOrder.filter((function(t){return t.create_at.toString().match(e.search)})):[]}},methods:{getOrders:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/orders?page=").concat(t);this.$http.get(c).then((function(t){t.data.success?(e.orders=t.data.orders,e.pagination=t.data.pagination,e.renderOrder(e.orders),e.isLoading=!1):(e.isLoading=!1,e.$swal({text:t.data.message,icon:"error",confirmButtonColor:"#ffbc1f"}))})).catch((function(){e.isLoading=!1,e.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},renderOrder:function(e){var t=this;if(this.localOrder=JSON.parse(localStorage.getItem("orderList")),this.localOrder){var c=this.localOrder;if(this.localOrder=e.filter((function(e){return-1!==t.localOrder.indexOf(e.create_at)})),this.localOrder.length!==c.length){var r=[];this.localOrder.forEach((function(e){return r.push(e.create_at)})),localStorage.setItem("orderList",JSON.stringify(r))}}}},created:function(){this.isLoading=!0,this.getOrders()}};R.render=J;t["default"]=R}}]);
//# sourceMappingURL=chunk-2117789e.e3c4f5b6.js.map