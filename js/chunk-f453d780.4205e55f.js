(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f453d780"],{"04d1":function(e,t,c){var r=c("342f"),a=r.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1799:function(e,t,c){"use strict";var r=c("7a23"),a={"aria-label":"Page navigation"},n={class:"pagination"};function o(e,t,c,o,i,l){return Object(r["openBlock"])(),Object(r["createBlock"])("nav",a,[Object(r["createVNode"])("ul",n,[Object(r["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_pre}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return l.emitPage(c.page.current_page-1)}),["prevent"]))},"Prev")],2),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(c.page.total_pages,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:["page-item",{active:e===c.page.current_page}],key:"page"+e},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(r["withModifiers"])((function(t){return l.emitPage(e)}),["prevent"])},Object(r["toDisplayString"])(e),9,["onClick"])],2)})),128)),Object(r["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_next}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=Object(r["withModifiers"])((function(e){return l.emitPage(c.page.current_page+1)}),["prevent"]))},"Next")],2)])])}var i={props:["page"],methods:{emitPage:function(e){this.$emit("emit-page",e)}}};i.render=o;t["a"]=i},"1dde":function(e,t,c){var r=c("d039"),a=c("b622"),n=c("2d00"),o=a("species");e.exports=function(e){return n>=51||!r((function(){var t=[],c=t.constructor={};return c[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"466d":function(e,t,c){"use strict";var r=c("d784"),a=c("825a"),n=c("50c4"),o=c("1d80"),i=c("8aa5"),l=c("14c3");r("match",1,(function(e,t,c){return[function(t){var c=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,c):new RegExp(t)[e](String(c))},function(e){var r=c(t,e,this);if(r.done)return r.value;var o=a(e),s=String(this);if(!o.global)return l(o,s);var d=o.unicode;o.lastIndex=0;var u,b=[],f=0;while(null!==(u=l(o,s))){var p=String(u[0]);b[f]=p,""===p&&(o.lastIndex=i(s,n(o.lastIndex),d)),f++}return 0===f?null:b}]}))},"4de4":function(e,t,c){"use strict";var r=c("23e7"),a=c("b727").filter,n=c("1dde"),o=n("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,c){"use strict";var r=c("23e7"),a=c("1c0b"),n=c("7b0b"),o=c("50c4"),i=c("d039"),l=c("addb"),s=c("a640"),d=c("04d1"),u=c("d998"),b=c("2d00"),f=c("512c"),p=[],h=p.sort,g=i((function(){p.sort(void 0)})),O=i((function(){p.sort(null)})),j=s("sort"),m=!i((function(){if(b)return b<70;if(!(d&&d>3)){if(u)return!0;if(f)return f<603;var e,t,c,r,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:c=3;break;case 68:case 71:c=4;break;default:c=2}for(r=0;r<47;r++)p.push({k:t+r,v:c})}for(p.sort((function(e,t){return t.v-e.v})),r=0;r<p.length;r++)t=p[r].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),v=g||!O||!j||!m,N=function(e){return function(t,c){return void 0===c?-1:void 0===t?1:void 0!==e?+e(t,c)||0:String(t)>String(c)?1:-1}};r({target:"Array",proto:!0,forced:v},{sort:function(e){void 0!==e&&a(e);var t=n(this);if(m)return void 0===e?h.call(t):h.call(t,e);var c,r,i=[],s=o(t.length);for(r=0;r<s;r++)r in t&&i.push(t[r]);i=l(i,N(e)),c=i.length,r=0;while(r<c)t[r]=i[r++];while(r<s)delete t[r++];return t}})},"512c":function(e,t,c){var r=c("342f"),a=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},"724a":function(e,t,c){"use strict";c.r(t);c("ac1f"),c("841c");var r=c("7a23"),a=Object(r["createVNode"])("nav",{style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"mb-3"},[Object(r["createVNode"])("ol",{class:"breadcrumb"},[Object(r["createVNode"])("li",{class:"breadcrumb-item"},"商品"),Object(r["createVNode"])("li",{class:"breadcrumb-item active"},"全部商品")])],-1),n={class:"d-flex justify-content-between align-items-center mb-3"},o=Object(r["createTextVNode"])(" 新增商品 "),i={class:"d-flex"},l={class:"input-group me-3"},s=Object(r["createVNode"])("span",{class:"input-group-text material-icons bg-transparent"},"search",-1),d={class:"dropdown"},u=Object(r["createVNode"])("button",{class:"\n            material-icons\n            btn btn-outline-secondary\n            d-flex\n            justify-content-center\n            align-items-center\n            me-2\n          ",type:"button",id:"filterBtn","data-bs-toggle":"dropdown","aria-expanded":"false"}," sort ",-1),b={class:"dropdown-menu","aria-labelledby":"filterBtn"},f={class:"mb-2"},p={class:"mb-2"},h={class:"mb-2"},g={class:"mb-2"},O={class:"mb-2"},j={class:"table align-middle"},m=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",{class:"text-center"},[Object(r["createVNode"])("th",{scope:"col"},"#"),Object(r["createVNode"])("th",{scope:"col"},"商品圖片"),Object(r["createVNode"])("th",{scope:"col"},"商品名稱"),Object(r["createVNode"])("th",{scope:"col"},"分類"),Object(r["createVNode"])("th",{scope:"col"},"次分類"),Object(r["createVNode"])("th",{scope:"col"},"原價"),Object(r["createVNode"])("th",{scope:"col"},"售價"),Object(r["createVNode"])("th",{scope:"col"},"上架狀態"),Object(r["createVNode"])("th",{scope:"col"},"查看"),Object(r["createVNode"])("th",{scope:"col"},"編輯"),Object(r["createVNode"])("th",{scope:"col"},"刪除")])],-1),v={key:0,class:"text-center"},N=Object(r["createVNode"])("tr",null," 目前沒有任何商品呦 ",-1),V={key:1,class:"text-center"},x={scope:"row"},w={class:"text-center"},y={class:"text-center"},k=Object(r["createTextVNode"])("remove_red_eye "),_={class:"text-center"},C=Object(r["createTextVNode"])("edit "),S={class:"text-center"},B=Object(r["createVNode"])("span",{class:"material-icons"},"delete",-1),D={class:"d-flex justify-content-center mb-4"},I=Object(r["createVNode"])("div",{class:"loadingio-spinner-dual-ball-haac1tizt7t"},[Object(r["createVNode"])("div",{class:"ldio-u3364un719"},[Object(r["createVNode"])("div"),Object(r["createVNode"])("div"),Object(r["createVNode"])("div")])],-1);function P(e,t,c,P,T,$){var U=Object(r["resolveComponent"])("router-link"),L=Object(r["resolveComponent"])("Pagination"),E=Object(r["resolveComponent"])("Loading");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[a,Object(r["createVNode"])("div",n,[Object(r["createVNode"])(U,{to:"/admin/products/addProduct",class:"btn btn-primary"},{default:Object(r["withCtx"])((function(){return[o]})),_:1}),Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",l,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入商品名稱","aria-label":"search","aria-describedby":"searchBtn","onUpdate:modelValue":t[1]||(t[1]=function(e){return T.search=e})},null,512),[[r["vModelText"],T.search]]),s]),Object(r["createVNode"])("div",d,[u,Object(r["createVNode"])("ul",b,[Object(r["createVNode"])("li",f,[Object(r["createVNode"])("button",{type:"button",class:"dropdown-item",href:"#","data-field":"sellTime_new_old",onClick:t[2]||(t[2]=function(){return $.filterItem&&$.filterItem.apply($,arguments)})}," 上架時間新到舊 ")]),Object(r["createVNode"])("li",p,[Object(r["createVNode"])("button",{type:"button",class:"dropdown-item",href:"#","data-field":"sellTime_old_new",onClick:t[3]||(t[3]=function(){return $.filterItem&&$.filterItem.apply($,arguments)})}," 上架時間舊到新 ")]),Object(r["createVNode"])("li",h,[Object(r["createVNode"])("button",{type:"button",class:"dropdown-item",href:"#","data-field":"originPrice_low_high",onClick:t[4]||(t[4]=function(){return $.filterItem&&$.filterItem.apply($,arguments)})}," 原價低到高 ")]),Object(r["createVNode"])("li",g,[Object(r["createVNode"])("button",{type:"button",class:"dropdown-item",href:"#","data-field":"originPrice_high_low",onClick:t[5]||(t[5]=function(){return $.filterItem&&$.filterItem.apply($,arguments)})}," 原價高到低 ")]),Object(r["createVNode"])("li",O,[Object(r["createVNode"])("button",{type:"button",class:"dropdown-item",href:"#","data-field":"price_low_high",onClick:t[6]||(t[6]=function(){return $.filterItem&&$.filterItem.apply($,arguments)})}," 售價低到高 ")]),Object(r["createVNode"])("li",null,[Object(r["createVNode"])("button",{type:"button",class:"dropdown-item",href:"#","data-field":"price_high_low",onClick:t[7]||(t[7]=function(){return $.filterItem&&$.filterItem.apply($,arguments)})}," 售價高到低 ")])])])])]),Object(r["createVNode"])("table",j,[m,T.productData.length?(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",V,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])($.filterProducts,(function(c,a){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:c.id},[Object(r["createVNode"])("th",x,Object(r["toDisplayString"])(a+1),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])("div",{class:"productImg img-fluid bg-cover bg-center",style:{backgroundImage:"url(".concat(c.imagesUrl[0].imgUrl,")")}},null,4)]),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(c.title),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(c.category),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(c.sub_category),1),Object(r["createVNode"])("td",w,"NT "+Object(r["toDisplayString"])(e.$toCurrency(c.origin_price)),1),Object(r["createVNode"])("td",y,"NT "+Object(r["toDisplayString"])(e.$toCurrency(c.price)),1),Object(r["createVNode"])("td",{class:["text-center",{"text-secondary":!c.is_enabled}]},Object(r["toDisplayString"])(c.is_enabled?"上架":"未上架"),3),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(U,{to:"product/".concat(c.id),class:"material-icons btn",onClick:t[8]||(t[8]=function(e){return $.pushReadStatus(!0)})},{default:Object(r["withCtx"])((function(){return[k]})),_:2},1032,["to"])]),Object(r["createVNode"])("td",_,[Object(r["createVNode"])(U,{to:"product/".concat(c.id),class:"material-icons btn",onClick:t[9]||(t[9]=function(e){return $.pushReadStatus(!1)})},{default:Object(r["withCtx"])((function(){return[C]})),_:2},1032,["to"])]),Object(r["createVNode"])("td",S,[Object(r["createVNode"])("button",{type:"button",class:"btn d-flex justify-content-center w-100",onClick:function(e){return $.delProduct(c.id)}},[B],8,["onClick"])])])})),128))])):(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",v,[N]))]),Object(r["createVNode"])("div",D,[Object(r["createVNode"])(L,{page:T.pagination,onEmitPage:$.getProducts},null,8,["page","onEmitPage"])]),Object(r["createVNode"])(E,{active:T.isLoading},{default:Object(r["withCtx"])((function(){return[I]})),_:1},8,["active"])],64)}c("4de4"),c("466d"),c("99af"),c("4e82");var T=c("1799"),$={data:function(){return{productData:[],tempData:{data:{imagesUrl:[]}},isEnabled:[0,1],updateStatusText:"",pagination:"",alertText:"",search:"",isLoading:!1}},components:{Pagination:T["a"]},computed:{filterProducts:function(){var e=this;return this.productData.filter((function(t){return t.title.match(e.search)}))}},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/admin/products?page=").concat(t);this.$http.get(c).then((function(t){t.data.success?(e.productData=t.data.products.sort((function(e,t){return e.categorySort-t.categorySort})),e.tempData.data={imagesUrl:[]},e.pagination=t.data.pagination,e.isLoading=!1):(e.$swal({text:t.data.message,icon:"error",confirmButtonColor:"#ffbc1f"}),e.isLoading=!1)})).catch((function(){e.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},getProduct:function(e){this.tempData.data={imagesUrl:[]},this.tempData.data=JSON.parse(JSON.stringify(e)),void 0===this.tempData.data.imagesUrl&&(this.tempData.data.imagesUrl=[])},delProduct:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/admin/product/").concat(e);this.$http.delete(c).then((function(e){e.data.success?(t.isLoading=!1,t.$swal({text:e.data.message,icon:"success",confirmButtonColor:"#ffbc1f"}),t.getProducts()):(t.isLoading=!1,t.$swal({text:e.data.message,icon:"error",confirmButtonColor:"#ffbc1f"}))})).catch((function(){t.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},pushReadStatus:function(e){sessionStorage.setItem("readOnly",e)},filterItem:function(e){var t=this,c=e.target.getAttribute("data-field");switch(c){case"price_low_high":this.productData.sort((function(e,t){return e.price-t.price}));break;case"price_high_low":this.productData.sort((function(e,t){return t.price-e.price}));break;case"originPrice_low_high":this.productData.sort((function(e,t){return e.origin_price-t.origin_price}));break;case"originPrice_high_low":this.productData.sort((function(e,t){return t.origin_price-e.origin_price}));break;case"sellTime_new_old":this.productData.sort((function(e,c){var r=t.$date.toUnix(e.sell_time),a=t.$date.toUnix(c.sell_time);return a-r}));break;case"sellTime_old_new":this.productData.sort((function(e,c){var r=t.$date.toUnix(e.sell_time),a=t.$date.toUnix(c.sell_time);return r-a}));break;default:break}}},mounted:function(){this.isLoading=!0,this.getProducts()}};$.render=P;t["default"]=$},8418:function(e,t,c){"use strict";var r=c("c04e"),a=c("9bf2"),n=c("5c6c");e.exports=function(e,t,c){var o=r(t);o in e?a.f(e,o,n(0,c)):e[o]=c}},"841c":function(e,t,c){"use strict";var r=c("d784"),a=c("825a"),n=c("1d80"),o=c("129f"),i=c("14c3");r("search",1,(function(e,t,c){return[function(t){var c=n(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,c):new RegExp(t)[e](String(c))},function(e){var r=c(t,e,this);if(r.done)return r.value;var n=a(e),l=String(this),s=n.lastIndex;o(s,0)||(n.lastIndex=0);var d=i(n,l);return o(n.lastIndex,s)||(n.lastIndex=s),null===d?-1:d.index}]}))},"99af":function(e,t,c){"use strict";var r=c("23e7"),a=c("d039"),n=c("e8b5"),o=c("861d"),i=c("7b0b"),l=c("50c4"),s=c("8418"),d=c("65f0"),u=c("1dde"),b=c("b622"),f=c("2d00"),p=b("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",O=f>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),j=u("concat"),m=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:n(e)},v=!O||!j;r({target:"Array",proto:!0,forced:v},{concat:function(e){var t,c,r,a,n,o=i(this),u=d(o,0),b=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?o:arguments[t],m(n)){if(a=l(n.length),b+a>h)throw TypeError(g);for(c=0;c<a;c++,b++)c in n&&s(u,b,n[c])}else{if(b>=h)throw TypeError(g);s(u,b++,n)}return u.length=b,u}})},addb:function(e,t){var c=Math.floor,r=function(e,t){var o=e.length,i=c(o/2);return o<8?a(e,t):n(r(e.slice(0,i),t),r(e.slice(i),t),t)},a=function(e,t){var c,r,a=e.length,n=1;while(n<a){r=n,c=e[n];while(r&&t(e[r-1],c)>0)e[r]=e[--r];r!==n++&&(e[r]=c)}return e},n=function(e,t,c){var r=e.length,a=t.length,n=0,o=0,i=[];while(n<r||o<a)n<r&&o<a?i.push(c(e[n],t[o])<=0?e[n++]:t[o++]):i.push(n<r?e[n++]:t[o++]);return i};e.exports=r},d998:function(e,t,c){var r=c("342f");e.exports=/MSIE|Trident/.test(r)}}]);
//# sourceMappingURL=chunk-f453d780.4205e55f.js.map