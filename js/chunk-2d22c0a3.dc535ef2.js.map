{"version":3,"sources":["webpack:///./src/views/admin/products/EditProduct.vue","webpack:///./src/views/admin/products/EditProduct.vue?c0f8"],"names":["style","aria-label","class","id","role","type","data-bs-toggle","data-bs-target","aria-controls","aria-selected","aria-labelledby","for","to","readonly","productInfo","title","delProduct","pushReadStatus","cancelEdit","update","checkBasicInfo","errors","placeholder","name","rules","disabled","description","as","edit-main","category","edit-sub","sub_category","getCategory","origin_price","min","price","unit","value","is_season","is_sell","edit-sell","is_enabled","edit-time","sell_time","getIsEnabled","main_content","sub_content","explanation","spec","precautions","product-images","imagesUrl","getImages","active","isLoading","data","routeId","this","$route","params","components","CategorySelect","IsEnabledSelect","ImagesInput","methods","getProduct","apiUrl","$http","get","then","res","success","product","$swal","text","message","icon","catch","put","confirmButtonColor","delete","$router","push","categorySort","isSell","sellTime","img","sort","a","b","imgId","status","sessionStorage","setItem","mounted","JSON","parse","getItem","render"],"mappings":"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","file":"js/chunk-2d22c0a3.dc535ef2.js","sourcesContent":["<template>\n  <nav\n    style=\"--bs-breadcrumb-divider: '>'\"\n    aria-label=\"breadcrumb\"\n    class=\"mb-3\"\n  >\n    <ol class=\"breadcrumb\">\n      <li class=\"breadcrumb-item\">商品</li>\n      <li class=\"breadcrumb-item\">\n        <router-link to=\"/admin/products\">全部商品</router-link>\n      </li>\n      <li v-if=\"readonly == 'edit'\" class=\"breadcrumb-item\">\n        {{ productInfo.title }}\n      </li>\n      <li v-else class=\"breadcrumb-item active\">{{ productInfo.title }}</li>\n      <li v-if=\"!readonly\" class=\"breadcrumb-item active\">編輯</li>\n    </ol>\n  </nav>\n  <div v-if=\"readonly\" class=\"d-flex justify-content-between mb-4\">\n    <router-link to=\"/admin/products\" class=\"btn btn-primary btn-sm\"\n      >返回</router-link\n    >\n    <div class=\"d-flex\">\n      <button\n        type=\"button\"\n        class=\"btn btn-primary btn-sm me-3\"\n        @click=\"delProduct()\"\n      >\n        刪除\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn btn-primary btn-sm\"\n        @click=\"pushReadStatus(false)\"\n      >\n        編輯\n      </button>\n    </div>\n  </div>\n  <div v-else class=\"d-flex justify-content-end mb-3\">\n    <button\n      type=\"button\"\n      class=\"btn btn-primary btn-sm me-3\"\n      @click=\"cancelEdit\"\n    >\n      取消\n    </button>\n    <button class=\"btn btn-primary btn-sm\" @click=\"update()\">確定</button>\n  </div>\n  <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n    <li class=\"nav-item\" role=\"presentation\">\n      <button\n        class=\"nav-link active\"\n        id=\"info-tab\"\n        type=\"button\"\n        role=\"tab\"\n        data-bs-toggle=\"tab\"\n        data-bs-target=\"#info\"\n        aria-controls=\"info\"\n        aria-selected=\"true\"\n      >\n        商品資訊\n      </button>\n    </li>\n    <li class=\"nav-item\" role=\"presentation\">\n      <button\n        class=\"nav-link\"\n        id=\"content-tab\"\n        type=\"button\"\n        role=\"tab\"\n        data-bs-toggle=\"tab\"\n        data-bs-target=\"#content\"\n        aria-controls=\"content\"\n        aria-selected=\"false\"\n      >\n        商品內容\n      </button>\n    </li>\n    <li class=\"nav-item\" role=\"presentation\">\n      <button\n        class=\"nav-link\"\n        id=\"images-tab\"\n        type=\"button\"\n        role=\"tab\"\n        data-bs-toggle=\"tab\"\n        data-bs-target=\"#images\"\n        aria-controls=\"images\"\n        aria-selected=\"false\"\n      >\n        商品圖片\n      </button>\n    </li>\n  </ul>\n  <div class=\"tab-content border-bottom p-4\" id=\"myTabContent\">\n    <div\n      class=\"tab-pane fade show active\"\n      id=\"info\"\n      role=\"tabpanel\"\n      aria-labelledby=\"info-tab\"\n    >\n      <Form v-slot=\"{ errors }\" @submit=\"checkBasicInfo\">\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <div class=\"mb-3\">\n              <label for=\"productTitle\" class=\"form-label\"\n                >商品名稱<sup>*</sup></label\n              >\n              <Field\n                type=\"text\"\n                class=\"form-control disabled\"\n                id=\"productTitle\"\n                placeholder=\"請輸入商品標題\"\n                v-model=\"productInfo.title\"\n                name=\"商品名稱\"\n                rules=\"required\"\n                :class=\"{ 'is-invalid': errors['商品名稱'] }\"\n                :disabled=\"readonly\"\n              >\n              </Field>\n              <error-message\n                name=\"商品名稱\"\n                class=\"invalid-feedback\"\n              ></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"productDescription\" class=\"form-label\"\n                >商品描述<sup>*</sup></label\n              >\n              <Field\n                type=\"text\"\n                class=\"form-control\"\n                id=\"productDescription\"\n                placeholder=\"請輸入商品描述\"\n                v-model=\"productInfo.description\"\n                name=\"商品描述\"\n                rules=\"required\"\n                as=\"textarea\"\n                :class=\"{ 'is-invalid': errors['商品描述'] }\"\n                style=\"height: 210px\"\n                :disabled=\"readonly\"\n              >\n              </Field>\n              <error-message\n                name=\"商品描述\"\n                class=\"invalid-feedback\"\n              ></error-message>\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"row\">\n              <CategorySelect\n                :readonly=\"readonly\"\n                :edit-main=\"productInfo.category\"\n                :edit-sub=\"productInfo.sub_category\"\n                @emit-category=\"getCategory\"\n              >\n              </CategorySelect>\n              <div class=\"col-md-6 mb-3\">\n                <label for=\"productOriPrice\" class=\"form-label\"\n                  >原價<sup>*</sup></label\n                >\n                <Field\n                  type=\"number\"\n                  class=\"form-control\"\n                  id=\"productOriPrice\"\n                  placeholder=\"請輸入商品原價\"\n                  v-model.number=\"productInfo.origin_price\"\n                  name=\"商品原價\"\n                  rules=\"min_value:1|required\"\n                  min=\"1\"\n                  :class=\"{ 'is-invalid': errors['商品原價'] }\"\n                  :disabled=\"readonly\"\n                >\n                </Field>\n                <error-message\n                  name=\"商品原價\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n              <div class=\"col-md-6 mb-3\">\n                <label for=\"productPrice\" class=\"form-label\"\n                  >售價<sup>*</sup></label\n                >\n                <Field\n                  type=\"number\"\n                  class=\"form-control\"\n                  id=\"productPrice\"\n                  placeholder=\"請輸入商品售價\"\n                  v-model.number=\"productInfo.price\"\n                  name=\"商品售價\"\n                  rules=\"min_value:1|required\"\n                  min=\"1\"\n                  :class=\"{ 'is-invalid': errors['商品售價'] }\"\n                  :disabled=\"readonly\"\n                >\n                </Field>\n                <error-message\n                  name=\"商品售價\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n              <div class=\"col-md-6 mb-3\">\n                <label for=\"productUnit\" class=\"form-label\"\n                  >單位<sup>*</sup></label\n                >\n                <Field\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"productUnit\"\n                  placeholder=\"請輸入商品單位\"\n                  v-model=\"productInfo.unit\"\n                  name=\"商品單位\"\n                  rules=\"required\"\n                  :class=\"{ 'is-invalid': errors['商品單位'] }\"\n                  :disabled=\"readonly\"\n                >\n                </Field>\n                <error-message\n                  name=\"商品單位\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n              <div class=\"col-md-6 mb-3\">\n                <div class=\"d-flex mt-5\">\n                  <div class=\"form-check mb-3 me-4\">\n                    <input\n                      class=\"form-check-input me-2\"\n                      type=\"checkbox\"\n                      value=\"\"\n                      id=\"seasonProduct\"\n                      :disabled=\"readonly\"\n                      v-model=\"productInfo.is_season\"\n                    />\n                    <label class=\"form-check-label\" for=\"seasonProduct\">\n                      季節限定\n                    </label>\n                  </div>\n                  <div class=\"form-check mb-3\">\n                    <input\n                      class=\"form-check-input me-2\"\n                      type=\"checkbox\"\n                      value=\"\"\n                      id=\"sellProduct\"\n                      :disabled=\"readonly\"\n                      v-model=\"productInfo.is_sell\"\n                    />\n                    <label class=\"form-check-label\" for=\"sellProduct\">\n                      限時特惠\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <IsEnabledSelect\n                :readonly=\"readonly\"\n                :edit-sell=\"productInfo.is_enabled\"\n                :edit-time=\"productInfo.sell_time\"\n                @emit-is-enabled=\"getIsEnabled\"\n              >\n              </IsEnabledSelect>\n            </div>\n          </div>\n        </div>\n      </Form>\n    </div>\n    <div\n      class=\"tab-pane fade\"\n      id=\"content\"\n      role=\"tabpanel\"\n      aria-labelledby=\"profile-tab\"\n    >\n      <Form v-slot=\"{ errors }\" @submit=\"checkBasicInfo\">\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <div class=\"mb-3\">\n              <label for=\"productMainContent\" class=\"form-label\">\n                主要內容<sup>*</sup>\n              </label>\n              <Field\n                type=\"text\"\n                class=\"form-control\"\n                id=\"productMainContent\"\n                placeholder=\"請輸入主要內容\"\n                v-model=\"productInfo.main_content\"\n                name=\"主要內容\"\n                rules=\"required\"\n                as=\"textarea\"\n                :class=\"{ 'is-invalid': errors['主要內容'] }\"\n                style=\"height: 160px\"\n                :disabled=\"readonly\"\n              >\n              </Field>\n              <error-message\n                name=\"主要內容\"\n                class=\"invalid-feedback\"\n              ></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"productSubContent\" class=\"form-label\">\n                說明內容<sup>*</sup>\n              </label>\n              <Field\n                type=\"text\"\n                class=\"form-control\"\n                id=\"productSubContent\"\n                placeholder=\"請輸入說明內容\"\n                v-model=\"productInfo.sub_content\"\n                name=\"說明內容\"\n                rules=\"required\"\n                as=\"textarea\"\n                style=\"height: 160px\"\n                :class=\"{ 'is-invalid': errors['說明內容'] }\"\n                :disabled=\"readonly\"\n              >\n              </Field>\n              <error-message\n                name=\"說明內容\"\n                class=\"invalid-feedback\"\n              ></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"productExplanation \" class=\"form-label\">\n                補充內容<sup>*</sup>\n              </label>\n              <textarea\n                type=\"text\"\n                class=\"form-control\"\n                id=\"productExplanation \"\n                placeholder=\"請輸入補充內容\"\n                v-model=\"productInfo.explanation\"\n                name=\"補充內容\"\n                style=\"height: 160px\"\n                :disabled=\"readonly\"\n              >\n              </textarea>\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"mb-3\">\n              <label for=\"productSpec\" class=\"form-label\">\n                商品規格<sup>*</sup>\n              </label>\n              <Field\n                type=\"text\"\n                class=\"form-control\"\n                id=\"productSpec\"\n                placeholder=\"請輸入商品規格\"\n                v-model=\"productInfo.spec\"\n                name=\"商品規格\"\n                rules=\"required\"\n                as=\"textarea\"\n                style=\"height: 160px\"\n                :class=\"{ 'is-invalid': errors['商品規格'] }\"\n                :disabled=\"readonly\"\n              >\n              </Field>\n              <error-message\n                name=\"商品規格\"\n                class=\"invalid-feedback\"\n              ></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"productPrecautions\" class=\"form-label\"\n                >注意事項</label\n              >\n              <textarea\n                v-model=\"productInfo.precautions\"\n                class=\"form-control\"\n                id=\"productPrecautions\"\n                style=\"height: 160px\"\n                placeholder=\"請輸入注意事項\"\n                :disabled=\"readonly\"\n              >\n              </textarea>\n            </div>\n          </div>\n        </div>\n      </Form>\n    </div>\n    <div\n      class=\"tab-pane fade\"\n      id=\"images\"\n      role=\"tabpanel\"\n      aria-labelledby=\"images-tab\"\n    >\n      <div class=\"row\">\n        <ImagesInput\n          :product-images=\"productInfo.imagesUrl\"\n          :readonly=\"readonly\"\n          @emit-images=\"getImages\"\n        >\n        </ImagesInput>\n      </div>\n    </div>\n  </div>\n  <Loading :active=\"isLoading\">\n    <div class=\"loadingio-spinner-dual-ball-haac1tizt7t\">\n      <div class=\"ldio-u3364un719\">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </Loading>\n</template>\n\n<script>\nimport CategorySelect from '@/components/admin/Select_productCategory.vue';\nimport IsEnabledSelect from '@/components/admin/Select_isEnabled.vue';\nimport ImagesInput from '@/components/admin/Input_image.vue';\n\nexport default {\n  data() {\n    return {\n      routeId: this.$route.params.id,\n      productInfo: {},\n      readonly: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    CategorySelect,\n    IsEnabledSelect,\n    ImagesInput,\n  },\n  methods: {\n    getProduct() {\n      const apiUrl = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/product/${this.routeId}`;\n      this.$http\n        .get(apiUrl)\n        .then((res) => {\n          if (res.data.success) {\n            this.productInfo = res.data.product;\n            this.isLoading = false;\n          } else {\n            this.isLoading = false;\n            this.$swal({ text: res.data.message, icon: 'error' });\n          }\n        })\n        .catch(() => {\n          this.$swal({\n            text: 'Opps ... 發生錯誤，請嘗試重新整理此頁面',\n            icon: 'error',\n          });\n        });\n    },\n    cancelEdit() {\n      this.isLoading = true;\n      this.pushReadStatus(true);\n      this.getProduct();\n    },\n    update() {\n      this.pushReadStatus(true);\n      this.isLoading = true;\n      const apiUrl = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product/${this.routeId}`;\n      this.$http\n        .put(apiUrl, { data: this.productInfo })\n        .then((res) => {\n          if (res.data.success) {\n            this.isLoading = false;\n            this.$swal({\n              text: res.data.message,\n              icon: 'success',\n              confirmButtonColor: '#ffbc1f',\n            });\n          } else {\n            this.isLoading = false;\n            this.$swal({\n              text: res.data.message,\n              icon: 'error',\n              confirmButtonColor: '#ffbc1f',\n            });\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$swal({\n            text: 'Opps ... 發生錯誤，請嘗試重新整理此頁面',\n            icon: 'error',\n            confirmButtonColor: '#ffbc1f',\n          });\n        });\n    },\n    delProduct() {\n      this.isLoading = true;\n      const apiUrl = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product/${this.routeId}`;\n      this.$http\n        .delete(apiUrl)\n        .then((res) => {\n          if (res.data.success) {\n            this.isLoading = false;\n            this.$swal({\n              text: res.data.message,\n              icon: 'success',\n              confirmButtonColor: '#ffbc1f',\n            });\n            this.$router.push('/admin/products');\n          } else {\n            this.isLoading = false;\n            this.$swal({\n              text: res.data.message,\n              icon: 'error',\n              confirmButtonColor: '#ffbc1f',\n            });\n          }\n        })\n        .catch(() => {\n          this.$swal({\n            text: 'Opps ... 發生錯誤，請嘗試重新整理此頁面',\n            icon: 'error',\n            confirmButtonColor: '#ffbc1f',\n          });\n        });\n    },\n    getCategory(categorySort) {\n      this.productInfo.categorySort = categorySort;\n    },\n    getIsEnabled(isSell, sellTime) {\n      this.productInfo.is_enabled = isSell;\n      this.productInfo.sell_time = sellTime;\n    },\n    getImages(img) {\n      this.productInfo.imagesUrl = img;\n      this.productInfo.imagesUrl.sort((a, b) => a.imgId - b.imgId);\n    },\n    checkBasicInfo() {\n      this.$swal({\n        text: '儲存成功',\n        icon: 'success',\n        confirmButtonColor: '#ffbc1f',\n      });\n    },\n    pushReadStatus(status) {\n      this.readonly = status;\n      sessionStorage.setItem('readOnly', status);\n    },\n  },\n  mounted() {\n    this.isLoading = true;\n    this.getProduct();\n    this.readonly = JSON.parse(sessionStorage.getItem('readOnly'));\n  },\n};\n</script>\n","import { render } from \"./EditProduct.vue?vue&type=template&id=389a81e2\"\nimport script from \"./EditProduct.vue?vue&type=script&lang=js\"\nexport * from \"./EditProduct.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}