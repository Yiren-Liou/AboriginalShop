(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ba6d45a"],{"1dde":function(e,t,r){var c=r("d039"),s=r("b622"),o=r("2d00"),a=s("species");e.exports=function(e){return o>=51||!c((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"563d":function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),s={class:"main container mb-6"},o=Object(c["createVNode"])("p",{class:"text-center text-danger mb-5"}," 請確認購買商品和買家資訊，確認無誤後點選頁面下方確認結帳按鈕，訂單才會成功送出呦 ",-1),a={key:0,class:"row justify-content-around mb-6"},d={class:"col-md-5"},n=Object(c["createVNode"])("h2",{class:"fontSizeM mb-4"},"購買的商品",-1),l={class:"list-unstyled mb-3"},i={class:"row align-items-center g-0"},b={class:"col-6"},u={class:"col-5"},p={class:"card-body pe-2"},m={class:"list-unstyled"},O={class:"mb-2"},f={class:"card-text"},j={class:"mb-2"},N={class:"card-text"},g=Object(c["createTextVNode"])(" 數量: "),v={class:"ms-1"},V={class:"mb-2"},y={class:"card-text"},h=Object(c["createTextVNode"])(" 總價: "),x={class:"ms-1"},k={class:"d-flex justify-content-end"},C=Object(c["createTextVNode"])(" 總金額 "),w={class:"ms-2"},L={class:"col-md-4"},S=Object(c["createVNode"])("h2",{class:"fontSizeM mb-4"},"訂購人資訊",-1),B={class:"mb-3"},T=Object(c["createVNode"])("label",{for:"buyerName",class:"form-label"},"訂購人姓名",-1),$={class:"mb-3"},F=Object(c["createVNode"])("label",{for:"buyerTell",class:"form-label"},"訂購人手機",-1),I={class:"mb-3"},z=Object(c["createVNode"])("label",{for:"buyerEmail",class:"form-label"},"訂購人信箱",-1),M={class:"mb-3"},J=Object(c["createVNode"])("label",{for:"payment",class:"form-label"},"付款方式",-1),E={class:"mb-3"},_=Object(c["createVNode"])("label",{for:"buyerUniformNum",class:"form-label"},"統一編號",-1),D={key:0,class:"mb-3"},P=Object(c["createVNode"])("label",{for:"address",class:"form-label"},"收件地址",-1),U={class:"mb-3"},X=Object(c["createVNode"])("label",{for:"message",class:"form-label"},"備註",-1),q={class:"d-flex justify-content-center"},A=Object(c["createVNode"])("div",{class:"loadingio-spinner-dual-ball-haac1tizt7t"},[Object(c["createVNode"])("div",{class:"ldio-u3364un719"},[Object(c["createVNode"])("div"),Object(c["createVNode"])("div"),Object(c["createVNode"])("div")])],-1);function G(e,t,r,G,H,K){var Q=Object(c["resolveComponent"])("OrderProgress"),R=Object(c["resolveComponent"])("Loading");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])(Q,{progress:H.progress},null,8,["progress"]),o,H.pushOrder&&H.pushCarts?(Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("div",d,[n,Object(c["createVNode"])("ul",l,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(this.pushCarts.carts,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:t.product_id,class:"card mb-3"},[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("div",b,[Object(c["createVNode"])("div",{class:"cartImg bg-cover bg-center",style:{backgroundImage:"url("+t.product.imagesUrl[0].imgUrl+")"}},null,4)]),Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",p,[Object(c["createVNode"])("ul",m,[Object(c["createVNode"])("li",O,[Object(c["createVNode"])("p",f,Object(c["toDisplayString"])(t.product.title),1)]),Object(c["createVNode"])("li",j,[Object(c["createVNode"])("p",N,[g,Object(c["createVNode"])("span",v,Object(c["toDisplayString"])(t.qty),1)])]),Object(c["createVNode"])("li",V,[Object(c["createVNode"])("p",y,[h,Object(c["createVNode"])("span",x,"NT "+Object(c["toDisplayString"])(e.$toCurrency(t.final_total)),1)])])])])])])])})),128))]),Object(c["createVNode"])("div",k,[Object(c["createVNode"])("p",null,[C,Object(c["createVNode"])("span",w,"NT "+Object(c["toDisplayString"])(e.$toCurrency(this.pushCarts.final_total)),1)])])]),Object(c["createVNode"])("div",L,[S,Object(c["createVNode"])("div",B,[T,Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"buyerName",value:H.pushOrder.user.name,"aria-describedby":"buyerName",disabled:""},null,8,["value"])]),Object(c["createVNode"])("div",$,[F,Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"buyerTell",value:H.pushOrder.user.tel,"aria-describedby":"buyerTell",disabled:""},null,8,["value"])]),Object(c["createVNode"])("div",I,[z,Object(c["createVNode"])("input",{type:"email",class:"form-control",id:"buyerEmail",value:H.pushOrder.user.email,"aria-describedby":"buyerEmail",disabled:""},null,8,["value"])]),Object(c["createVNode"])("div",M,[J,Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"payment",value:H.pushOrder.user.paymentMethod,"aria-describedby":"payment",disabled:""},null,8,["value"])]),Object(c["createVNode"])("div",E,[_,Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"buyerUniformNum",value:H.pushOrder.user.uniformNumbers,"aria-describedby":"uniformNumbers",disabled:""},null,8,["value"])]),"信用卡"===H.pushOrder.user.paymentMethod?(Object(c["openBlock"])(),Object(c["createBlock"])("div",D,[P,Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"address",value:H.pushOrder.user.address,"aria-describedby":"address",disabled:""},null,8,["value"])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",U,[X,Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"message",value:H.pushOrder.message,"aria-describedby":"message",disabled:""},null,8,["value"])])])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",q,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary me-3",onClick:t[1]||(t[1]=function(){return K.returnToForm&&K.returnToForm.apply(K,arguments)})}," 重新填寫 "),"信用卡"===H.pushOrder.user.paymentMethod?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:0,type:"button",class:"btn btn-secondary me-3",onClick:t[2]||(t[2]=function(){return K.sendOrder&&K.sendOrder.apply(K,arguments)})}," 前往付款 ")):(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:1,type:"button",class:"btn btn-secondary me-3",onClick:t[3]||(t[3]=function(){return K.sendOrder&&K.sendOrder.apply(K,arguments)})}," 確認下單 "))])]),Object(c["createVNode"])(R,{active:H.isLoading},{default:Object(c["withCtx"])((function(){return[A]})),_:1},8,["active"])],64)}r("99af");var H=r("9977"),K={data:function(){return{progress:"確認結帳",orderList:[],pushOrder:"",pushCarts:"",isLoading:!1}},components:{OrderProgress:H["a"]},methods:{sendOrder:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/order");this.$http.post(t,{data:this.pushOrder}).then((function(t){t.data.success?("信用卡"===e.pushOrder.user.paymentMethod?e.toPaid(t.data.orderId):(e.isLoading=!1,e.$router.push("/orderCompleted")),e.recordList(t.data.create_at)):e.$swal({text:t.data.message,icon:"error"})})).catch((function(){e.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error"})}))},toPaid:function(e){var t=this,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/pay/").concat(e);this.$http.post(r).then((function(e){e.data.success?(t.isLoading=!1,t.$swal({text:e.data.message,icon:"success"}),t.$swal.fire({title:e.data.message,text:"感謝您的支持",icon:"success",showCancelButton:!1,confirmButtonColor:"#ffbc1f",confirmButtonText:"確定"}).then((function(e){e.isConfirmed&&t.$router.push("/orderCompleted")}))):(t.isLoading=!1,t.$swal({text:e.data.message,icon:"error",confirmButtonColor:"#ffbc1f"}))})).catch((function(){t.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},returnToForm:function(){this.$emit("emit-order",this.pushOrder),this.$router.push("/buyerForm")},recordList:function(e){var t=localStorage.getItem("orderList");t?(this.orderList=JSON.parse(t),this.orderList.push(e)):this.orderList.push(e),this.orderList=JSON.stringify(this.orderList),localStorage.setItem("orderList",this.orderList)},renderTempOrder:function(){var e=localStorage.getItem("tempOrder");this.pushOrder=JSON.parse(e);var t=sessionStorage.getItem("tempCarts");this.pushCarts=JSON.parse(t)}},created:function(){var e=this;this.isLoading=!0,this.renderTempOrder(),setTimeout((function(){e.isLoading=!1,e.$swal({text:"請確認「購買商品」和「買家資訊」，訂單送出後無法修改呦",icon:"warning",confirmButtonColor:"#ffbc1f"})}),500)}};K.render=G;t["default"]=K},8418:function(e,t,r){"use strict";var c=r("c04e"),s=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var a=c(t);a in e?s.f(e,a,o(0,r)):e[a]=r}},9977:function(e,t,r){"use strict";var c=r("7a23"),s={class:"d-none d-md-flex row justify-content-center my-5"},o={class:"col-md- col-lg-7"},a={class:"d-flex justify-content-between"},d={class:"d-flex flex-column align-items-center"},n=Object(c["createVNode"])("span",{class:"text-center"},"確認購物車",-1),l={class:"d-flex flex-column align-items-center"},i=Object(c["createVNode"])("span",{class:"text-center"},"訂購資訊",-1),b={class:"d-flex flex-column align-items-center"},u=Object(c["createVNode"])("span",{class:"text-center"},"確認結帳",-1),p={class:"d-flex flex-column align-items-center"},m=Object(c["createVNode"])("span",{class:"text-center"},"訂購成功",-1),O={class:"d-md-none row g-0 mb-3"},f={class:"col-6"},j={class:"col-6"},N={class:"col-6"},g={class:"col-6"};function v(e,t,r,v,V,y){return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("div",a,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",{class:["border border-2 rounded-circle p-1 p-md-2 mb-3",{"bg-primary":"確認購物車"===r.progress||"訂購資訊"===r.progress||"確認結帳"===r.progress}]},null,2),n]),Object(c["createVNode"])("div",{class:["progressLine",{"border-primary":"訂購資訊"===r.progress||"確認結帳"===r.progress}]},null,2),Object(c["createVNode"])("div",l,[Object(c["createVNode"])("div",{class:["border border-2 rounded-circle p-1 p-md-2 mb-3",{"bg-primary":"訂購資訊"===r.progress||"確認結帳"===r.progress}]},null,2),i]),Object(c["createVNode"])("div",{class:["progressLine",{"border-primary":"確認結帳"===r.progress}]},null,2),Object(c["createVNode"])("div",b,[Object(c["createVNode"])("div",{class:["border border-2 rounded-circle p-1 p-md-2 mb-3",{"bg-primary":"確認結帳"===r.progress}]},null,2),u]),Object(c["createVNode"])("div",{class:["progressLine",{"border-primary":"訂購成功"===r.progress}]},null,2),Object(c["createVNode"])("div",p,[Object(c["createVNode"])("div",{class:["border border-2 rounded-circle p-1 p-md-2 mb-3",{"bg-primary":"progress"===r.progress}]},null,2),m])])])]),Object(c["createVNode"])("div",O,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("div",{class:["fontSizeXS border text-center py-1",{progressFocus:"確認購物車"===r.progress,progressInfo:"訂購資訊"===r.progress||"確認結帳"===r.progress}]}," 確認購物車 ",2)]),Object(c["createVNode"])("div",j,[Object(c["createVNode"])("div",{class:["fontSizeXS border text-center py-1",{progressFocus:"訂購資訊"===r.progress,progressInfo:"確認結帳"===r.progress}]}," 訂購資訊 ",2)]),Object(c["createVNode"])("div",N,[Object(c["createVNode"])("div",{class:["fontSizeXS border text-center py-1",{progressFocus:"確認結帳"===r.progress}]}," 確認結帳 ",2)]),Object(c["createVNode"])("div",g,[Object(c["createVNode"])("div",{class:["fontSizeXS border text-center py-1",{progressFocus:"訂購成功"===r.progress}]}," 訂購成功 ",2)])])],64)}var V={props:["progress"]};V.render=v;t["a"]=V},"99af":function(e,t,r){"use strict";var c=r("23e7"),s=r("d039"),o=r("e8b5"),a=r("861d"),d=r("7b0b"),n=r("50c4"),l=r("8418"),i=r("65f0"),b=r("1dde"),u=r("b622"),p=r("2d00"),m=u("isConcatSpreadable"),O=9007199254740991,f="Maximum allowed index exceeded",j=p>=51||!s((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),N=b("concat"),g=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},v=!j||!N;c({target:"Array",proto:!0,forced:v},{concat:function(e){var t,r,c,s,o,a=d(this),b=i(a,0),u=0;for(t=-1,c=arguments.length;t<c;t++)if(o=-1===t?a:arguments[t],g(o)){if(s=n(o.length),u+s>O)throw TypeError(f);for(r=0;r<s;r++,u++)r in o&&l(b,u,o[r])}else{if(u>=O)throw TypeError(f);l(b,u++,o)}return b.length=u,b}})},b0c0:function(e,t,r){var c=r("83ab"),s=r("9bf2").f,o=Function.prototype,a=o.toString,d=/^\s*function ([^ (]*)/,n="name";c&&!(n in o)&&s(o,n,{configurable:!0,get:function(){try{return a.call(this).match(d)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-1ba6d45a.836057c5.js.map