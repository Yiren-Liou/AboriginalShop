(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fe32ab5"],{"1dde":function(e,t,c){var o=c("d039"),r=c("b622"),n=c("2d00"),i=r("species");e.exports=function(e){return n>=51||!o((function(){var t=[],c=t.constructor={};return c[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,c){"use strict";var o=c("c04e"),r=c("9bf2"),n=c("5c6c");e.exports=function(e,t,c){var i=o(t);i in e?r.f(e,i,n(0,c)):e[i]=c}},"99af":function(e,t,c){"use strict";var o=c("23e7"),r=c("d039"),n=c("e8b5"),i=c("861d"),a=c("7b0b"),s=c("50c4"),d=c("8418"),l=c("65f0"),f=c("1dde"),u=c("b622"),b=c("2d00"),p=u("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",O=b>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=f("concat"),j=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:n(e)},h=!O||!g;o({target:"Array",proto:!0,forced:h},{concat:function(e){var t,c,o,r,n,i=a(this),f=l(i,0),u=0;for(t=-1,o=arguments.length;t<o;t++)if(n=-1===t?i:arguments[t],j(n)){if(r=s(n.length),u+r>m)throw TypeError(v);for(c=0;c<r;c++,u++)c in n&&d(f,u,n[c])}else{if(u>=m)throw TypeError(v);d(f,u++,n)}return f.length=u,f}})},a434:function(e,t,c){"use strict";var o=c("23e7"),r=c("23cb"),n=c("a691"),i=c("50c4"),a=c("7b0b"),s=c("65f0"),d=c("8418"),l=c("1dde"),f=l("splice"),u=Math.max,b=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var c,o,l,f,v,O,g=a(this),j=i(g.length),h=r(e,j),N=arguments.length;if(0===N?c=o=0:1===N?(c=0,o=j-h):(c=N-2,o=b(u(n(t),0),j-h)),j+c-o>p)throw TypeError(m);for(l=s(g,o),f=0;f<o;f++)v=h+f,v in g&&d(l,f,g[v]);if(l.length=o,c<o){for(f=h;f<j-o;f++)v=f+o,O=f+c,v in g?g[O]=g[v]:delete g[O];for(f=j;f>j-o+c;f--)delete g[f-1]}else if(c>o)for(f=j-o;f>h;f--)v=f+o-1,O=f+c-1,v in g?g[O]=g[v]:delete g[O];for(f=0;f<c;f++)g[f+h]=arguments[f+2];return g.length=j-o+c,l}})},b6d4:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),r={class:"main container"},n=Object(o["createVNode"])("h2",{class:"fontSizeM fontSize-md-L text-center mb-3"},"─ 收藏清單 ─",-1),i={key:0,class:"d-flex flex-column align-items-center"},a=Object(o["createVNode"])("p",{class:"fontSizeM text-center mb-5"},[Object(o["createTextVNode"])(" 目前沒有收藏任何商品呦"),Object(o["createVNode"])("br"),Object(o["createTextVNode"])("快點去逛逛吧 ")],-1),s=Object(o["createTextVNode"])(" 繼續購物 "),d={key:1,class:"row mb-6"},l={class:"card-img-top position-relative mb-2 mb-md-3"},f={key:0,class:"tag"},u={class:"card-body p-0"},b={class:"d-md-flex justify-content-md-between align-items-md-center mb-2 mb-md-3"},p={class:"fontSizeBase fontSize-md-M mb-1 mb-md-0"},m={key:0,class:"fontSizeBase text-decoration-line-through text-dark ms-1"},v={class:"card-footer bg-transparent border-0 p-0"},O={class:"d-flex"},g=Object(o["createVNode"])("span",{class:"material-icons"},"favorite",-1),j=Object(o["createVNode"])("p",{class:"d-none d-lg-block fontSize-md-S ms-2 mb-0"},"移除收藏",-1),h=Object(o["createVNode"])("span",{class:"material-icons"},"add_shopping_cart",-1),N=Object(o["createVNode"])("p",{class:"d-none d-lg-block fontSize-md-S ms-2 mb-0"},"加入購物車",-1),x=Object(o["createVNode"])("div",{class:"loadingio-spinner-dual-ball-haac1tizt7t"},[Object(o["createVNode"])("div",{class:"ldio-u3364un719"},[Object(o["createVNode"])("div"),Object(o["createVNode"])("div"),Object(o["createVNode"])("div")])],-1);function V(e,t,c,V,k,y){var w=Object(o["resolveComponent"])("router-link"),B=Object(o["resolveComponent"])("Loading");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",r,[n,null==k.favorite||0==k.favorite.length?(Object(o["openBlock"])(),Object(o["createBlock"])("div",i,[a,Object(o["createVNode"])(w,{to:"/products",role:"button",class:"btn btn-primary me-3"},{default:Object(o["withCtx"])((function(){return[s]})),_:1})])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",d,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.favorite,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:e.id,class:"col-6 col-lg-3 mb-md-3"},[Object(o["createVNode"])(w,{to:{path:"/product/".concat(e.id),query:{category:e.category,title:e.title}},class:"productCard px-3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("div",l,[e.is_season?(Object(o["openBlock"])(),Object(o["createBlock"])("span",f,"限定")):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("img",{src:e.imagesUrl[0].imgUrl,alt:e.title,class:"img-fluid"},null,8,["src","alt"])]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("h2",p,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("p",{class:["fontSize-md-M fw-bold mb-0",{"text-primary":e.is_sell}]},[Object(o["createTextVNode"])(" NT "+Object(o["toDisplayString"])(e.is_sell?e.price:e.origin_price)+" ",1),e.is_sell?(Object(o["openBlock"])(),Object(o["createBlock"])("span",m," NT "+Object(o["toDisplayString"])(e.origin_price),1)):Object(o["createCommentVNode"])("",!0)],2)]),Object(o["createVNode"])("div",v,[Object(o["createVNode"])("div",O,[Object(o["createVNode"])("button",{type:"button",class:"favoriteBtn btn btn-outline-secondary d-center px-0 w-50 me-1",onClick:Object(o["withModifiers"])((function(t){return y.removeFavorite(e)}),["prevent"])},[g,j],8,["onClick"]),Object(o["createVNode"])("button",{type:"button",class:"addCartBtn btn btn-secondary d-center w-50 ms-1",onClick:Object(o["withModifiers"])((function(t){return y.addToCart(e.id)}),["prevent"])},[h,N],8,["onClick"])])])])]})),_:2},1032,["to"])])})),128))]))]),Object(o["createVNode"])(B,{active:k.isLoading},{default:Object(o["withCtx"])((function(){return[x]})),_:1},8,["active"])],64)}c("99af"),c("d81d"),c("a434");var k=c("f8b8"),y={data:function(){return{favorite:"",isLoading:!1}},methods:{getFavorite:function(){this.favorite=JSON.parse(localStorage.getItem("favorite")),this.isLoading=!1},getProduct:function(e){this.$router.push("/product/".concat(e.id))},addToCart:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiren","/cart"),o={data:{product_id:e,qty:1}};this.$http.post(c,o).then((function(e){e.data.success?(t.isLoading=!1,k["a"].emit("update-cart"),t.$swal({text:e.data.message,icon:"success",confirmButtonColor:"#ffbc1f"})):(t.isLoading=!1,t.$swal({text:e.data.message,icon:"error",confirmButtonColor:"#ffbc1f"}))})).catch((function(){t.$swal({text:"Opps ... 發生錯誤，請嘗試重新整理此頁面",icon:"error",confirmButtonColor:"#ffbc1f"})}))},removeFavorite:function(e){this.isLoading=!0;var t=this.favorite.map((function(e){return e.id})).indexOf(e.id);this.favorite.splice(t,1),this.favorite=JSON.stringify(this.favorite),localStorage.setItem("favorite",this.favorite),k["a"].emit("update-favorite"),this.getFavorite(),this.$swal({text:"成功移除收藏",icon:"success",confirmButtonColor:"#ffbc1f"})}},mounted:function(){var e=this;this.isLoading=!0,setTimeout((function(){e.getFavorite()}),1e3)}};y.render=V;t["default"]=y},d81d:function(e,t,c){"use strict";var o=c("23e7"),r=c("b727").map,n=c("1dde"),i=n("map");o({target:"Array",proto:!0,forced:!i},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},f8b8:function(e,t,c){"use strict";var o=function(e){return{all:e=e||new Map,on:function(t,c){var o=e.get(t);o&&o.push(c)||e.set(t,[c])},off:function(t,c){var o=e.get(t);o&&o.splice(o.indexOf(c)>>>0,1)},emit:function(t,c){(e.get(t)||[]).slice().map((function(e){e(c)})),(e.get("*")||[]).slice().map((function(e){e(t,c)}))}}},r=o();t["a"]=r}}]);
//# sourceMappingURL=chunk-7fe32ab5.5c0a24b4.js.map